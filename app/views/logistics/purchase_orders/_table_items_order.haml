.jarviswidget.jarviswidget-color-darken{"data-widget-editbutton" => "false", "data-widget-deletebutton" => "false"}
  %header
    %span.widget-icon
      %i.fa.fa-table
    %h2 Lista de Ordenes de Suministros
  %div
    .jarviswidget-editbox
    .widget-body.no-padding
      %table#dt_basic.table.table-striped.table-bordered.table-hover
        %thead
          %tr
            %th Código de la orden de Suministro
            %th Código del Artículo
            %th Nombre del Artículo
            %th Unidad de Medida
            %th Cantidad
            %th Sector
            %th Fase
            %th Centro de Atención
            %th Fecha Programada
            %th Seleccionar
        %tbody
          - @deliveryOrders.each do |delivery|
            - delivery.delivery_order_details.each do |dod|
              %tr
                %td.col-md-1
                  = delivery.id.to_s.rjust(5, '0')
                %td.col-md-1
                  = dod.article.code
                %td.col-md-1
                  = dod.article.name
                %td.col-md-1
                  = dod.unit_of_measurement.symbol
                %td.col-md-1
                  = dod.amount.to_i
                %td.sector.col-md-1.order_delivery_sector
                  = dod.sector.name
                %td.order_delivery_phase
                  = dod.phase.name
                %td.order_delivery_centro_atencion
                  = dod.center_of_attention.name
                %td.order_delivery_fecha_programada.col-md-2
                  = dod.scheduled_date
                %td
                  = check_box("order_delivery", "approved", { class: 'order_check' }, dod.id)

:javascript
  // DO NOT REMOVE : GLOBAL FUNCTIONS!
  pageSetUp();
  
  // PAGE RELATED SCRIPTS

  loadDataTableScripts();
  function loadDataTableScripts() {

    loadScript("#{ asset_path 'plugin/datatables/jquery.dataTables-cust.min', type: :javascript }", dt_2);

    function dt_2() {
      loadScript("#{ asset_path 'plugin/datatables/ColReorder.min', type: :javascript }", dt_3);
    }

    function dt_3() {
      loadScript("#{ asset_path 'plugin/datatables/FixedColumns.min.js', type: :javascript }", dt_4);
    }

    function dt_4() {
      loadScript("#{ asset_path 'plugin/datatables/ColVis.min', type: :javascript }", dt_5);
    }

    function dt_5() {
      loadScript("#{ asset_path 'plugin/datatables/ZeroClipboard', type: :javascript }", dt_6);
    }

    function dt_6() {
      loadScript("#{ asset_path 'plugin/datatables/media/js/TableTools.min', type: :javascript }", dt_7);
    }

    function dt_7() {
      loadScript("#{ asset_path 'plugin/datatables/DT_bootstrap', type: :javascript }", runDataTables);
    }

  }

  function runDataTables() {

    /*
     * BASIC
     */
    $('#dt_basic').dataTable({
      "sPaginationType" : "bootstrap_full"
    });

    /* END BASIC */

    /* Add the events etc before DataTables hides a column */
    $("#dt_basic thead input").keyup(function() {
      oTable.fnFilter(this.value, oTable.oApi._fnVisibleToColumnIndex(oTable.fnSettings(), $("thead input").index(this)));
    });

    $("#dt_basic thead input").each(function(i) {
      this.initVal = this.value;
    });
    $("#dt_basic thead input").focus(function() {
      if (this.className == "search_init") {
        this.className = "";
        this.value = "";
      }
    });
    $("#dt_basic thead input").blur(function(i) {
      if (this.value == "") {
        this.className = "search_init";
        this.value = this.initVal;
      }
    });