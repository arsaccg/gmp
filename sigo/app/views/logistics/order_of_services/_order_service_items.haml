%tr(class="order_service_item"){id: "tr" + @reg_n.to_s}
  %td.article-id(style="display:none")
    = hidden_field_tag 'order_of_service[order_of_service_details_attributes][' + @reg_n.to_s + '][article_id]', @id_article.to_i
  %td.measurement-id(style="display:none")
    = hidden_field_tag 'order_of_service[order_of_service_details_attributes][' + @reg_n.to_s + '][unit_of_measurement_id]', @unitOfMeasurementId.to_i
  %td
    = @code_article
  %td
    = @name_article
  %td
    = @unitOfMeasurement
  %td.col-md-1.amount{:style => "width:5%"}
    %div
      = text_field_tag 'order_of_service[order_of_service_details_attributes][' + @reg_n.to_s + '][amount]', @amount.to_i , class: "form-control quantity", :required => true, title:'No puede dejar este campo vacio'
  %td
    %div
      %select.form-control{:name =>"order_of_service[order_of_service_details_attributes][#{@reg_n.to_s}][sector_id]", :required => true, title:'No puede dejar este campo vacio'}
        %option{:selected => true, :disabled => true} Seleccionar Sector
        - @sectors.each do |sector|
          %optgroup{:label => "#{sector.name}"}
            - Sector.getSubSectors(sector.code).each do |subsector|
              %option{:value => "#{subsector.id}"}
                = subsector.name
  %td
    %div
      %select.form-control{:name =>"order_of_service[order_of_service_details_attributes][#{@reg_n.to_s}][phase_id]", :required => true, title:'No puede dejar este campo vacio'}
        %option{:selected => true, :disabled => true} Seleccionar Fase
        - @phases.each do |phase|
          %option{:value => "#{phase.id}"}
            = phase.name
  %td.unit-price
    %div
      = text_field_tag 'order_of_service[order_of_service_details_attributes][' + @reg_n.to_s + '][unit_price]', nil, class: "form-control unit-price", onfocusout: "calculatePriceWithourIgv(this);", onkeypress: "return isNumber(event);", :required => true, title:'No puede dejar este campo vacio'
  %td.price-without-igv
    = text_field_tag 'unit_price_before_igv', nil, class: "form-control unit-price-before-igv", :readonly => true
  %td.check-igv
    %label.checkbox
      = check_box_tag 'order_of_service[order_of_service_details_attributes][' + @reg_n.to_s + '][igv]', nil, nil, { class: 'order_purchase_igv', onchange: "enableFieldsForIgv(this);" }
      %i
  %td.price-with-igv
    = text_field_tag 'order_of_service[order_of_service_details_attributes][' + @reg_n.to_s + '][unit_price_igv]', nil , class: "form-control unit-price-igv", :readonly => true
  //%td(class="order_delivery_equipos")
  %td
    = text_area_tag 'order_of_service[order_of_service_details_attributes][' + @reg_n.to_s + '][description]', nil,class: "form-control description"
  %td{:style => "width: 1%;"}
    %a{href: "javascript:delete_item('"+@reg_n.to_s+"')"}(class="btn") X