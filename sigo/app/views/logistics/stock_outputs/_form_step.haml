= simple_form_for([:logistics, @head], html: {class: 'form-horizontal', novalidate: 'novalidate', autocomplete: 'off' }) do |f|
  #step1.step-pane.active
    %h3
      %strong Paso 1
      \- Seleccionar Responsable / Almacén

    %fieldset
      .row
        = hidden_field_tag 'stock_input[cost_center_id]', @cost_center, class: 'form-control', id: 'cost-center-selected'
      .row
        .col-md-1
        .col-md-4
          .form-group
            %label.control-label Responsable
            .input-group
              %select(name='stock_input[responsible_id]' class = 'select2 form-control' id = 'responsible-select' style='width:100%;padding: 0;border: none;')
                - @responsibles.each do |x|
                  %option(value = "#{x.id}")
                    = x.entity.name.to_s + ' ' + x.entity.second_name.to_s + ' ' + x.entity.paternal_surname.to_s + ' ' + x.entity.maternal_surname.to_s
        .col-md-2
        .col-md-3
          .row
            .col-md-12
              .form-group
                %label.control-label Almacén
                .input-group
                  %select.form-control#warehouse-select{:name =>"stock_input[warehouse_id]"}
                    - @warehouses.each do |x|
                      %option{:value => "#{x.id}"}
                        = x.name
                  %span.input-group-addon
                    %i.fa.fa-gears
  #step2.step-pane
    %h3
      %strong Paso 2
      \- Escoger artículos
    %fieldset
      .row#select_table_per_warehouse
      %br
      .row
        %table#items.table.table-striped.table-bordered.table-hover.has-tickbox.smart-form{ style: "width: 1000px;margin: 0 auto" }
          %thead
            %tr
              %th{ 'style' => 'width: 20%;text-align:center' } Código
              %th{ 'style' => 'width: 30%;text-align:center' } Artículo
              %th{ 'style' => 'width: 15%;text-align:center' } Unidad
              %th{ 'style' => 'width: 20%;text-align:center' } Cantidad Total en Almacen
              %th{ 'style' => 'width: 7%;text-align:center;display:none' } Seleccionar
              %th{ 'style' => 'width: 7%;text-align:center' } Eliminar
          %tbody#partial_table_per_warehouse
        
  #step3.step-pane
    %h3
      %strong Paso 3
      \- Llenar información
    %fieldset
      = hidden_field_tag "stock_input[company_id]", session[:company]
      = hidden_field_tag "stock_input[input]", "0"
      .row
        .col-md-1
        .col-md-2
          %label.control-label Formato
          .input-group
            %select.form-control#format-select{:name =>"stock_input[format_id]"}
              - @formats.each do |x|
                %option{:value => "#{x.id}"}
                  = x.name
            %span.input-group-addon
              %i.fa.fa-gears

        .col-md-2
          %label.control-label N° Documento
          .input-group
            = text_field(:stock_input, :document, placeholder: "N° Documento", class: "form-control", :required => true, :title=>"(*)")
            %span.input-group-addon
              %i.fa.fa-file

        .col-md-4
          %label.control-label Grupo de Trabajo
          .input-group
            %select(name='stock_input[working_group_id]' class = 'select2 form-control' id = 'working_group-select' style='width:100%;padding: 0;border: none;')
              - @working_groups.each do |x|
                %option(value = "#{x.id}")
                  = x.name

        .col-md-2
          %label.control-label Fecha
          .input-group
            = f.input :issue_date, placeholder: "Fecha", as: :string, :required => true, :input_html => {:class => 'form-control', type: "date"}, label: false
            %span.input-group-addon
              %i.fa.fa-calendar
      .row
        .col-md-1
        .col-md-10
          %label.control-label Glosa
          .input-group
            = text_area(:stock_input, :description, placeholder: "Glosa", class: "form-control")
            %span.input-group-addon
              %i.fa.fa-align-justify
    
    %br

    %fieldset
      %table(class="table table-condensed table-bordered table-striped table-hover smart-form" style="font-size: 12px;" id="summary-pod" aria-describedby="data-table_info")
        %thead
          %tr
            %th{'style' => 'width: 13%;'}
              Codigo
            %th{'style' => 'width: 25%;'}
              Nombre
            %th{'style' => 'width: 10%;'}
              Unidad
            %th{'style' => 'width: 20%;'}
              Sector
            %th{'style' => 'width: 20%;'}
              Fases
            %th{'style' => 'width: 6%;'}
              Cantidad Total
            %th{'style' => 'width: 6%;'}
              Cantidad de Salida
        %tbody(id="table-items-paso2")
  #step4.step-pane
    %h3
      %strong Guardar Información
      \- Terminado!
    %br/
    %br/
    %h1.text-center.text-success
      %i.fa.fa-check
      Felicidades!
      %br/
      %small Presiona FINALIZAR para terminar con el Ingreso a Almacén.
      %i.fa.fa-hand-o-up
    %br/
    %br/
    %br/
    %br/
    %input#ids{:style=>"display:none"}
#modalPurchaseOrderItems.modal.fade{"aria-hidden" => "true", "aria-labelledby" => "modalDeliveryItemsLabel", role: "dialog", tabindex: "-1"}
  .modal-dialog
    .modal-content
      .modal-body#modalPodContent

:javascript
  $(document).ready(function(){
    //$('#stock_input_issue_date').datepicker.noConflict;
    $('select_table_per_warehouse').select2({width:'200px'});
    //$("#stock_input_company_id").val($.company_global_id);
  });

  $("#btn-add-article").click(function(){
    var article_id = $("#article-select").val();
    str_item = {authenticity_token: "#{form_authenticity_token}", article_id: $("#article-select").val(), amount: $("#article-amount").val()};
    append_url_ajax('#{add_stock_input_item_field_logistics_stock_outputs_path}', 'summary-pod', str_item, 0, 'POST');
  });

