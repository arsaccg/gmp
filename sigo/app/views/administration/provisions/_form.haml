= simple_form_for([:administration, @provision], html: {class: 'form-horizontal', novalidate: 'novalidate', autocomplete: 'off' }) do |f|
  = hidden_field_tag "purchase_order[cost_center_id]", @cost_center
  #step1.step-pane.active
    %h3
      %strong Paso 1
      \- Seleccionar Proveedor y sus ordenes
    %fieldset
      .row
        = hidden_field_tag 'provision[cost_center_id]', @cost_center, class: 'form-control', id: 'cost-center-selected'
      .row
        .col-md-1
        .col-md-4
          .form-group
            %label.control-label Proveedor
            .input-group
              %select.select2.form-control#supplier-selected{:name => 'provision[entity_id]', :style => 'width:100%;padding: 0;border: none;'}
                - @suppliers.each do |x|
                  %option(value = "#{x.id}")
                    = x.name
        .col-md-4
          .form-group
            %label.control-label Proveedor
            .input-group
              %select(name='stock_input[supplier_id]' class = 'select2 form-control' id = 'supplier-selected' style='width:100%;padding: 0;border: none;')
                - @suppliers.each do |x|
                  %option(value = "#{x.id}")
                    = x.name
            
  #step2.step-pane
    %h3
      %strong Paso 2
      \- Seleccionar la(s) orden(es) a provisionar
    %fieldset
      .row
        %article.col-xs-12.col-sm-12.col-md-12.col-lg-12
          %br
          #items-orders
        
  #step3.step-pane
    %h3
      %strong Paso 3
      \- Seleccionar el(los) item(s) de la(s) orden(es) seleccionada(s)
    %fieldset
      .row
        %article.col-xs-12.col-sm-12.col-md-12.col-lg-12
          %br
          #items-orders-details
    
  #step4.step-pane
    %h3
      %strong Paso 4
      \- Registrar Información

    %fieldset
      .row
        .col-md-4
          .form-group
            %label.col-md-4.control-label Fecha de Emisión
            .col-md-8
              .input-group
                = f.input :date_of_issue, as: :string, :input_html => {:class => 'form-control', :type => "date", value: Time.now.to_date}, label: false, readonly: true
                %span.input-group-addon
                  %i.fa.fa-calendar
        .col-md-4
          .form-group
            %label.col-md-4.control-label Fecha de Vencimiento
            .col-md-8
              .input-group
                = f.input :expiration_date, as: :string, :input_html => {:class => 'form-control', :type => "date"}, label: false
                %span.input-group-addon
                  %i.fa.fa-calendar
        .col-md-4
          .form-group
            %label.col-md-4.control-label Fecha de Entrega
            .col-md-8
              .input-group
                = f.input :delivery_date, as: :string, :input_html => {:class => 'form-control', :type => "date"}, label: false
                %span.input-group-addon
                  %i.fa.fa-calendar
      .row
        .col-md-4
          .form-group
            %label.col-md-4.control-label Moneda
            .col-md-8
              .input-group
                %select.form-control#category-select{:name =>"purchase_order[money_id]"}
                  - @moneys.each do |money|
                    %option{:value => "#{money.id}"}
                      = money.name
                %span.input-group-addon
                  %i.fa.fa-money
        .col-md-4
          .form-group
            %label.col-md-4.control-label Tipo de cambio
            .col-md-8
              .input-group
                = text_field(:purchase_order, :exchange_of_rate, class: "form-control")
                %span.input-group-addon
                  %i.fa.fa-warning
        .col-md-4
          .form-group
            %label.col-md-4.control-label Forma de pago
            .col-md-8
              .input-group
                %select.form-control{:name =>"purchase_order[method_of_payment_id]"}
                  - @methodOfPayments.each do |mop|
                    %option{:value => "#{mop.id}"}
                      = mop.name
                %span.input-group-addon
                  %i.fa.fa-gears
      .row
        .col-md-4
          .form-group
            %label.col-md-3.control-label Proveedores
            .col-md-9
              .input-group
                %select.form-control{:name =>"purchase_order[entity_id]"}
                  - @suppliers.each do |supp|
                    %option{:value => "#{supp.id}"}
                      = supp.name.to_s + ' ' + supp.paternal_surname.to_s
                %span.input-group-addon
                  %i.fa.fa-truck
        .col-md-4
          .form-group
            %label.col-md-2.control-label Estado
            .col-md-10
              .input-group
                = f.input :state, :input_html => {:class => 'form-control', :value => translate_purchase_order_state(@purchaseOrder.state)}, label: false, readonly: true
                %span.input-group-addon
                  %i.fa.fa-flag
        .col-md-4
          .form-group
            %label.col-md-3.control-label Responsable
            .col-md-9
              .input-group
                = text_field(:purchaseOrder, :liable, class: "form-control", value: "#{current_user.first_name} #{current_user.last_name}", readonly: true)
                %span.input-group-addon
                  %i.fa.fa-male
      .row
        .col-md-12
          .form-group
            %label.col-md-2.control-label Glosa
            .col-md-10
              .input-group
                = f.input :description, placeholder: "Glosa", :input_html => {:class => 'form-control'}, label: false
                %span.input-group-addon
                  %i.fa.fa-align-justify
    %fieldset
      %table(class="table table-condensed table-bordered table-striped table-hover has-tickbox smart-form" style="font-size: 12px;" id="summary-delivery-orders" aria-describedby="data-table_info")
        %thead
          %tr
            %th Codigo
            %th Nombre del Artículo
            %th{'style' => 'width: 4%;'}
              Unidad
            %th{'style' => 'width: 5%;'}
              Cantidad
            %th{'style' => 'width: 4%;'}
              Precio Unitario
            %th{'style' => 'width: 6%;'}
              Total antes de IGV
            %th{'style' => 'width: 5%;'}
              ¿Aplica IGV?
            %th{'style' => 'width: 8%;'}
              Total después de IGV
            %th Descripción
        %tbody(id="order_delivery_items_table")

  #step5.step-pane
    %h3
      %strong Paso 5
      \- Terminado!
    %br/
    %br/
    %h1.text-center.text-success
      %i.fa.fa-check
      Felicidades!
      %br/
      .alert.alert-warning.fade.in
        %i.fa-fw.fa.fa-warning
        %strong Aún no Acabas
        Presiona el botón FINALIZAR para terminar con la Orden de Compra.
        %i.fa.fa-hand-o-up
    %br/
    %br/
    %br/
    %br/